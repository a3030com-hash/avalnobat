{% load booking_filters %}

<div id="dynamic-content" class="panel-container" data-current-date="{{ today|date:"Y-m-d" }}">
    <h1>{{ page_title }}</h1>
    <p><strong>تاریخ:</strong> {{ today|to_jalali:"%A, %d %B %Y" }}</p>
    <hr>

    <h3>تقویم نوبت‌دهی دستی</h3>
    <div class="calendar-grid" style="display: flex; flex-wrap: wrap; gap: 10px;"> <!-- استفاده از flex برای چینش افقی -->
        {% for day in future_days %}
            <a href="{% url 'booking:manage_day' day.date|to_jalali:'%Y-%m-%d' %}" class="day-cell available" style="background: linear-gradient(to top, #f8d7da {{ day.booked_percentage }}%, white {{ day.booked_percentage }}%); border: 2px solid #007bff; border-radius: 5px; padding: 20px; text-align: center; flex: 1 1 150px; min-width: 150px;"> <!-- استفاده از flex برای تنظیم اندازه باکس -->
                <span class="day-name">{{ day.date|to_persian_weekday }}</span><br>
                <span class="jalali-date" data-date="{{ day.date|to_jalali_js }}">{{ day.date|to_jalali:"%d %B" }}</span>
            </a>
        {% endfor %}
    </div>
</div>