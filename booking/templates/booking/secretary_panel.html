{% extends 'booking/base.html' %}
{% load booking_filters %}

{% block title %}{{ page_title }} - AvalNobat{% endblock %}

{% block content %}
<style>
    .panel-container, .dashboard-links {
        background-color: white;
        padding: 2rem;
        border: 1px solid #dee2e6;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        margin-bottom: 2rem;
    }
    .dashboard-links .link-btn {
        display: inline-block;
        background-color: #007bff;
        color: white;
        padding: 15px 25px;
        border-radius: 8px;
        text-decoration: none;
        font-size: 1.1rem;
        margin: 10px;
        transition: background-color 0.3s;
    }
    .dashboard-links .link-btn:hover {
        background-color: #0056b3;
    }
    .manual-booking-btn {
        background-color: #6c757d;
    }
    .manual-booking-btn:hover {
        background-color: #5a6268;
    }
    .financial-report-btn {
        background-color: #17a2b8;
        float: left;
    }
    .financial-report-btn:hover {
        background-color: #138496;
    }
</style>

<div class="panel-container">
    <a href="{% url 'booking:daily_patients' %}"> &larr; بازگشت به پنل لیست بیماران</a>
     <h3>ثبت نوبت دستی برای روزهای آینده</h3>
    <p><strong>تاریخ:</strong> {{ today|to_jalali:"%A, %d %B %Y" }}</p>
   
    {% if future_days %}
        <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 1rem;">
            {% for day_info in future_days %}
            <a href="{% url 'booking:manual_booking' date=day_info.date|to_jalali:'%Y-%m-%d' %}"
               class="link-btn manual-booking-btn"
               style="background: linear-gradient(to right, #dc3545 {{ day_info.booked_percentage }}%, #6c757d {{ day_info.booked_percentage }}%);">
                 {{ day_info.date|to_jalali:"%A, %d %B" }}
             </a>
            {% endfor %}
        </div>
    {% else %}
        <p>برنامه کاری فعالی برای روزهای آینده تعریف نشده است.</p>
    {% endif %}
</div>
{% endblock %}
