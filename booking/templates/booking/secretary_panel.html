{% extends 'booking/base.html' %}
{% load booking_filters %}

{% block title %}{{ page_title }} - AvalNobat{% endblock %}

{% block content %}
<style>
    .panel-container, .dashboard-links {
        background-color: white;
        padding: 2rem;
        border: 1px solid #dee2e6;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        margin-bottom: 2rem;
    }
    .dashboard-links .link-btn {
        display: inline-block;
        background-color: #007bff;
        color: white;
        padding: 15px 25px;
        border-radius: 8px;
        text-decoration: none;
        font-size: 1.1rem;
        margin: 10px;
        transition: background-color 0.3s;
    }
    .dashboard-links .link-btn:hover {
        background-color: #0056b3;
    }
    .manual-booking-btn {
        background-color: #6c757d;
    }
    .manual-booking-btn:hover {
        background-color: #5a6268;
    }
    .financial-report-btn {
        background-color: #17a2b8;
        float: left;
    }
    .financial-report-btn:hover {
        background-color: #138496;
    }
</style>

<div class="panel-container">
    <h3>تقویم نوبت‌دهی دستی</h3>
    <div class="calendar-grid" style="display: flex; flex-wrap: wrap; gap: 10px; flex-direction: ltr;">
        {% for day in future_days %}
            <a href="{% url 'booking:manage_day' day.date|to_jalali:'%Y-%m-%d' %}" class="day-cell available" style="background: linear-gradient(to top, #f8d7da {{ day.booked_percentage }}%, white {{ day.booked_percentage }}%); border: 2px solid #007bff; border-radius: 5px; padding: 20px; text-align: center; flex: 1 1 150px; min-width: 150px;">
                <span class="day-name">{{ day.date|to_persian_weekday }}</span><br>
                <span class="jalali-date" data-date="{{ day.date|to_jalali_js }}">{{ day.date|to_jalali:"%d %B" }}</span>
            </a>
        {% endfor %}
    </div>
</div>

<div id="dynamic-content">
    {% include 'booking/secretary_panel_content.html' %}
</div>
{% endblock %}
